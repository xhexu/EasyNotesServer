{
    "markdownValue": "##### Grunt使用案例\n\n1. ###### 案例1\n```js\nmodule.exports = function(grunt){\n\n    //配置\n    grunt.initConfig({\n        pkg: grunt.file.readJSON('package.json'),\n        concat: {\n            domop: {\n                src: [\n                    '../www/js/*.js',\n                    '../www/js/**/**/*.js'\n                ],\n                dest: '../www/lib/public/im.all.js'\n            }\n        },\n        watch: {\n            js: {\n                files: [\n                    '../../../www/js/*.js'\n                ],\n                tasks: ['concat']\n            }\n        },\n        copy:{\n            kyeeUi2app:{//纯净web资源copy到android\n                expand: true,\n                cwd: \"D:/GIT_HRP/kyee_ui_app/dist/kyee_ui/\",\n                src: [\n                    '**'\n                ],\n                dest: 'D:/ZeroProject/RubikCube/www/lib/hrp_framework/kyee_ui/'\n            }\n        },\n        shell:{\n            buildsds:{\n                command:[\n                    'cd D:/GIT_HRP/kyee_ui_app/',\n                    'npm run build' \n                ].join('&&'),\n                options:{\n                    callback: function(err, stdout, stderr, cb){\n                        console.log(stdout);\n                        console.error(stderr);\n                        cb();\n                    }\n                }\n            }\n        }\n    });\n\n    //载入concat和uglify插件，分别对于合并和压缩\n    grunt.loadNpmTasks('grunt-contrib-concat');\n    grunt.loadNpmTasks('grunt-contrib-copy');\n    grunt.loadNpmTasks('grunt-contrib-clean');\n    grunt.loadNpmTasks('grunt-contrib-uglify');\n    grunt.loadNpmTasks('grunt-shell');\n\n    //注册任务\n    grunt.registerTask('default', ['concat']);\n    grunt.registerTask('watch', ['concat','watch']);\n    grunt.registerTask('sds',[\n        'shell:buildsds',\n        'copy:kyeeUi2app'\n    ])\n};\n\n```",
    "render": "<h5><a id=\"Grunt_0\"></a>Grunt使用案例</h5>\n<ol>\n<li>\n<h6><a id=\"1_2\"></a>案例1</h6>\n</li>\n</ol>\n<pre><div class=\"hljs\"><code class=\"lang-js\"><span class=\"hljs-built_in\">module</span>.exports = <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">grunt</span>)</span>{\n\n    <span class=\"hljs-comment\">//配置</span>\n    grunt.initConfig({\n        <span class=\"hljs-attr\">pkg</span>: grunt.file.readJSON(<span class=\"hljs-string\">'package.json'</span>),\n        <span class=\"hljs-attr\">concat</span>: {\n            <span class=\"hljs-attr\">domop</span>: {\n                <span class=\"hljs-attr\">src</span>: [\n                    <span class=\"hljs-string\">'../www/js/*.js'</span>,\n                    <span class=\"hljs-string\">'../www/js/**/**/*.js'</span>\n                ],\n                <span class=\"hljs-attr\">dest</span>: <span class=\"hljs-string\">'../www/lib/public/im.all.js'</span>\n            }\n        },\n        <span class=\"hljs-attr\">watch</span>: {\n            <span class=\"hljs-attr\">js</span>: {\n                <span class=\"hljs-attr\">files</span>: [\n                    <span class=\"hljs-string\">'../../../www/js/*.js'</span>\n                ],\n                <span class=\"hljs-attr\">tasks</span>: [<span class=\"hljs-string\">'concat'</span>]\n            }\n        },\n        <span class=\"hljs-attr\">copy</span>:{\n            <span class=\"hljs-attr\">kyeeUi2app</span>:{<span class=\"hljs-comment\">//纯净web资源copy到android</span>\n                expand: <span class=\"hljs-literal\">true</span>,\n                <span class=\"hljs-attr\">cwd</span>: <span class=\"hljs-string\">\"D:/GIT_HRP/kyee_ui_app/dist/kyee_ui/\"</span>,\n                <span class=\"hljs-attr\">src</span>: [\n                    <span class=\"hljs-string\">'**'</span>\n                ],\n                <span class=\"hljs-attr\">dest</span>: <span class=\"hljs-string\">'D:/ZeroProject/RubikCube/www/lib/hrp_framework/kyee_ui/'</span>\n            }\n        },\n        <span class=\"hljs-attr\">shell</span>:{\n            <span class=\"hljs-attr\">buildsds</span>:{\n                <span class=\"hljs-attr\">command</span>:[\n                    <span class=\"hljs-string\">'cd D:/GIT_HRP/kyee_ui_app/'</span>,\n                    <span class=\"hljs-string\">'npm run build'</span> \n                ].join(<span class=\"hljs-string\">'&amp;&amp;'</span>),\n                <span class=\"hljs-attr\">options</span>:{\n                    <span class=\"hljs-attr\">callback</span>: <span class=\"hljs-function\"><span class=\"hljs-keyword\">function</span>(<span class=\"hljs-params\">err, stdout, stderr, cb</span>)</span>{\n                        <span class=\"hljs-built_in\">console</span>.log(stdout);\n                        <span class=\"hljs-built_in\">console</span>.error(stderr);\n                        cb();\n                    }\n                }\n            }\n        }\n    });\n\n    <span class=\"hljs-comment\">//载入concat和uglify插件，分别对于合并和压缩</span>\n    grunt.loadNpmTasks(<span class=\"hljs-string\">'grunt-contrib-concat'</span>);\n    grunt.loadNpmTasks(<span class=\"hljs-string\">'grunt-contrib-copy'</span>);\n    grunt.loadNpmTasks(<span class=\"hljs-string\">'grunt-contrib-clean'</span>);\n    grunt.loadNpmTasks(<span class=\"hljs-string\">'grunt-contrib-uglify'</span>);\n    grunt.loadNpmTasks(<span class=\"hljs-string\">'grunt-shell'</span>);\n\n    <span class=\"hljs-comment\">//注册任务</span>\n    grunt.registerTask(<span class=\"hljs-string\">'default'</span>, [<span class=\"hljs-string\">'concat'</span>]);\n    grunt.registerTask(<span class=\"hljs-string\">'watch'</span>, [<span class=\"hljs-string\">'concat'</span>,<span class=\"hljs-string\">'watch'</span>]);\n    grunt.registerTask(<span class=\"hljs-string\">'sds'</span>,[\n        <span class=\"hljs-string\">'shell:buildsds'</span>,\n        <span class=\"hljs-string\">'copy:kyeeUi2app'</span>\n    ])\n};\n\n</code></div></pre>\n",
    "url": "/notes/005/0A93F9B7"
}